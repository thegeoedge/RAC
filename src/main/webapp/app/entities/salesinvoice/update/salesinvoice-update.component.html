<div class="d-flex justify-content-center">
  <div class="col-8">
    <form name="editForm" novalidate (ngSubmit)="save()" [formGroup]="editForm">
      <h2 id="jhi-salesinvoice-heading" data-cy="SalesinvoiceCreateUpdateHeading">Create or edit a Salesinvoice</h2>
      <div class="container mt-4">
        <div class="row">
          <div class="row">
            <div class="container p-3 border rounded bg-light">
              <div class="row">
                <!-- Customer Details & Add New Item Section -->
                <div class="col-md-12">
                  <div class="row">
                    <!-- Customer Details -->
                    <div class="col-md-6">
                      <div class="p-2 border rounded bg-white">
                        <h6 class="mb-2">Customer Details</h6>
                        <div class="mb-2">
                          <label class="form-label" for="field_customerName">Customer Name</label>
                          <input
                            type="text"
                            class="form-control form-control-sm"
                            id="field_customerName"
                            name="customerName"
                            formControlName="customername"
                          />
                        </div>
                        <div class="mb-2">
                          <label class="form-label" for="field_amountOwing">Amount Owing</label>
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            id="field_amountOwing"
                            name="amountOwing"
                            formControlName="amountowing"
                          />
                        </div>
                        <div class="mb-2">
                          <label class="form-label" for="field_vehicleNo">Vehicle No</label>
                          <input
                            type="text"
                            class="form-control form-control-sm"
                            id="field_vehicleNo"
                            name="vehicleNo"
                            formControlName="vehicleno"
                          />
                        </div>
                        <div class="mb-2">
                          <label class="form-label" for="field_invoiceDate">Invoice Date</label>
                          <input
                            type="datetime-local"
                            class="form-control form-control-sm"
                            id="field_invoiceDate"
                            name="invoiceDate"
                            formControlName="invoicedate"
                          />
                        </div>
                      </div>
                    </div>

                    <!-- Add New Item -->
                    <div class="col-md-6">
                      <div class="p-2 border rounded bg-white">
                        <h6 class="mb-2">Add New Item</h6>

                        <!-- Search by Name or Code -->
                        <div class="mb-2 d-flex align-items-center">
                          <label class="form-label me-3">Search Item</label>
                          <input type="radio" name="searchOption" id="searchByName" value="name" checked />
                          <label for="searchByName" class="me-2">By Name</label>
                          <input type="radio" name="searchOption" id="searchByCode" value="code" />
                          <label for="searchByCode">By Code</label>
                        </div>

                        <!-- Input Field for Search -->
                        <div class="mb-2">
                          <input
                            type="text"
                            class="form-control form-control-sm"
                            id="searchItemField"
                            placeholder="Enter item name or code"
                          />
                        </div>

                        <!-- Readonly Fields for Item Name & Code -->
                        <div class="mb-2">
                          <label class="form-label" for="field_itemName">Item Name</label>
                          <input type="text" class="form-control form-control-sm" id="field_itemName" readonly />
                        </div>
                        <div class="mb-2">
                          <label class="form-label" for="field_itemCode">Item Code</label>
                          <input type="text" class="form-control form-control-sm" id="field_itemCode" readonly />
                        </div>

                        <!-- Item Price -->
                        <div class="mb-2">
                          <label class="form-label" for="field_itemPrice">Item Price</label>
                          <input type="number" class="form-control form-control-sm" id="field_itemPrice" />
                        </div>

                        <!-- Available Quantity -->
                        <div class="mb-2">
                          <label class="form-label" for="field_avlQty">Available Quantity</label>
                          <input type="number" class="form-control form-control-sm" id="field_avlQty" readonly />
                        </div>

                        <!-- Buy Quantity -->
                        <div class="mb-2">
                          <label class="form-label" for="field_buyQty">Buy Quantity</label>
                          <input type="number" class="form-control form-control-sm" id="field_buyQty" />
                        </div>

                        <!-- Discount Option -->
                        <div class="mb-2 d-flex align-items-center">
                          <label class="form-label me-3">Discount</label>
                          <input type="radio" name="discountType" id="discountPercentage" value="percentage" checked />
                          <label for="discountPercentage" class="me-2">%</label>
                          <input type="radio" name="discountType" id="discountValue" value="value" />
                          <label for="discountValue">Value</label>
                        </div>

                        <!-- Discount Field -->
                        <div class="mb-2">
                          <input type="number" class="form-control form-control-sm" id="field_discount" />
                        </div>

                        <!-- Add Item Button -->
                        <div class="text-end">
                          <button class="btn btn-primary btn-sm">Add Item</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Final Payments Container - Fixed to the right -->
            <div class="col-md-5 float-end">
              <div class="p-2 border rounded bg-light">
                <h6 class="mb-2">Final Payments</h6>

                <!-- Sub Total -->
                <div class="mb-2 d-flex align-items-center">
                  <label class="form-label me-2" for="field_subTotal">Sub Total</label>
                  <input
                    type="number"
                    class="form-control form-control-sm"
                    name="subTotal"
                    id="field_subTotal"
                    formControlName="subtotal"
                    (input)="onsubtotalValueChange($event)"
                  />
                </div>

                <!-- Discount Option -->
                <div class="mb-2 d-flex align-items-center">
                  <label class="form-label me-3">Discount Option</label>
                  <div>
                    <input
                      type="radio"
                      name="discountOption"
                      id="percentage"
                      value="percentage"
                      [checked]="discountOption === 'percentage'"
                      (change)="onDiscountOptionChange('percentage')"
                    />
                    <label for="percentage">%</label>

                    <input
                      type="radio"
                      name="discountOption"
                      id="value"
                      value="value"
                      [checked]="discountOption === 'value'"
                      (change)="onDiscountOptionChange('value')"
                    />
                    <label for="value">Value</label>
                  </div>
                </div>

                <!-- Discount Value -->
                <div class="mb-2 d-flex align-items-center">
                  <label class="form-label me-2" for="field_valueDiscount">Discount Value</label>
                  <input
                    type="number"
                    class="form-control form-control-sm"
                    name="valueDiscount"
                    id="field_valueDiscount"
                    (input)="onDiscountValueChange($event)"
                  />
                </div>

                <!-- VAT Checkbox -->
                <div class="mb-2 form-check">
                  <input type="checkbox" class="form-check-input" id="vatCheckbox" />
                  <!---- (change)="onVATCheckboxChange($event)" -->

                  <label class="form-check-label" for="vatCheckbox">Apply VAT</label>
                </div>

                <!-- Tax Fields -->
                <div class="mb-2 d-flex align-items-center">
                  <label class="form-label me-2" for="field_nbt">NBT</label>
                  <input type="number" class="form-control form-control-sm" id="field_nbt" formControlName="nbt" />
                  <!-- (input)="onNBTChange($event)" -->
                </div>

                <div class="mb-2 d-flex align-items-center">
                  <label class="form-label me-2" for="field_tot">TOT</label>
                  <input type="number" class="form-control form-control-sm" id="field_tot" formControlName="tot" />
                  <!--(input)="onTOTChange($event)" /> -->
                </div>

                <div class="mb-2 d-flex align-items-center">
                  <label class="form-label me-2" for="field_vat">VAT</label>
                  <input type="number" class="form-control form-control-sm" id="field_vat" formControlName="vat" />
                  <!--(input)="onVATChange($event)" /> -->
                </div>

                <!-- Read-Only Fields -->
                <div class="mb-2 d-flex align-items-center">
                  <label class="form-label me-2" for="field_netTotal">Net Total</label>
                  <input type="number" class="form-control form-control-sm" id="field_netTotal" formControlName="netTotal" readonly />
                </div>

                <div class="mb-2 d-flex align-items-center">
                  <label class="form-label me-2" for="field_netTotalWithTax">Net Total (With Tax)</label>
                  <input
                    type="number"
                    class="form-control form-control-sm"
                    id="field_netTotalWithTax"
                    formControlName="netTotalWithTax"
                    readonly
                  />
                </div>
              </div>
            </div>

            <div class="container">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                  <a
                    class="nav-link active"
                    id="billing-tab"
                    data-bs-toggle="tab"
                    href="#billing"
                    role="tab"
                    aria-controls="billing"
                    aria-selected="true"
                  >
                    Billing Information
                  </a>
                </li>
                <li class="nav-item" role="presentation">
                  <a
                    class="nav-link"
                    id="service-charges-tab"
                    data-bs-toggle="tab"
                    href="#service-charges"
                    role="tab"
                    aria-controls="service-charges"
                    aria-selected="false"
                  >
                    Service Charges
                  </a>
                </li>
                <li class="nav-item" role="presentation">
                  <a
                    class="nav-link"
                    id="common-charges-tab"
                    data-bs-toggle="tab"
                    href="#common-charges"
                    role="tab"
                    aria-controls="common-charges"
                    aria-selected="false"
                  >
                    Service Common Charges
                  </a>
                </li>
              </ul>

              <!-- Tab panes -->
              <div class="tab-content mt-3">
                <div class="tab-pane fade show active" id="billing" role="tabpanel" aria-labelledby="billing-tab">
                  <jhi-sales-invoice-lines-update></jhi-sales-invoice-lines-update>
                </div>
                <div class="tab-pane fade" id="service-charges" role="tabpanel" aria-labelledby="service-charges-tab">
                  <jhi-sales-invoice-service-charge-line-update></jhi-sales-invoice-service-charge-line-update>
                </div>
                <div class="tab-pane fade" id="common-charges" role="tabpanel" aria-labelledby="common-charges-tab">
                  <jhi-sale-invoice-common-service-charge-update></jhi-sale-invoice-common-service-charge-update>
                </div>
              </div>
            </div>
            <div>
              <jhi-alert-error></jhi-alert-error>

              @if (editForm.controls.id.value !== null) {
                <div class="mb-3">
                  <label class="form-label" for="field_id">ID</label>
                  <input type="number" class="form-control" name="id" id="field_id" data-cy="id" formControlName="id" [readonly]="true" />
                </div>
              }

              <div class="mb-3">
                <label class="form-label" for="field_code">Code</label>
                <input type="text" class="form-control" name="code" id="field_code" data-cy="code" formControlName="code" />
              </div>

              <div class="mb-3">
                <label class="form-label" for="field_invoicedate">Invoicedate</label>
                <div class="d-flex">
                  <input
                    id="field_invoicedate"
                    data-cy="invoicedate"
                    type="datetime-local"
                    class="form-control"
                    name="invoicedate"
                    formControlName="invoicedate"
                    placeholder="YYYY-MM-DD HH:mm"
                  />
                </div>
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_createddate">Createddate</label>
                <div class="d-flex">
                  <input
                    id="field_createddate"
                    data-cy="createddate"
                    type="datetime-local"
                    class="form-control"
                    name="createddate"
                    formControlName="createddate"
                    placeholder="YYYY-MM-DD HH:mm"
                  />
                </div>
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_quoteid">Quoteid</label>
                <input type="number" class="form-control" name="quoteid" id="field_quoteid" data-cy="quoteid" formControlName="quoteid" />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_orderid">Orderid</label>
                <input type="number" class="form-control" name="orderid" id="field_orderid" data-cy="orderid" formControlName="orderid" />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_delieverydate">Delieverydate</label>
                <div class="d-flex">
                  <input
                    id="field_delieverydate"
                    data-cy="delieverydate"
                    type="datetime-local"
                    class="form-control"
                    name="delieverydate"
                    formControlName="delieverydate"
                    placeholder="YYYY-MM-DD HH:mm"
                  />
                </div>
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_salesrepid">Salesrepid</label>
                <input
                  type="number"
                  class="form-control"
                  name="salesrepid"
                  id="field_salesrepid"
                  data-cy="salesrepid"
                  formControlName="salesrepid"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_salesrepname">Salesrepname</label>
                <input
                  type="text"
                  class="form-control"
                  name="salesrepname"
                  id="field_salesrepname"
                  data-cy="salesrepname"
                  formControlName="salesrepname"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_delieverfrom">Delieverfrom</label>
                <input
                  type="text"
                  class="form-control"
                  name="delieverfrom"
                  id="field_delieverfrom"
                  data-cy="delieverfrom"
                  formControlName="delieverfrom"
                />
              </div>

              <div class="mb-3">
                <label class="form-label" for="field_customerid">Customerid</label>
                <input
                  type="number"
                  class="form-control"
                  name="customerid"
                  id="field_customerid"
                  data-cy="customerid"
                  formControlName="customerid"
                />
              </div>

              <div class="mb-3">
                <label class="form-label" for="field_customername">Customername</label>
                <input
                  type="text"
                  class="form-control"
                  name="customername"
                  id="field_customername"
                  data-cy="customername"
                  formControlName="customername"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_customeraddress">Customeraddress</label>
                <input
                  type="text"
                  class="form-control"
                  name="customeraddress"
                  id="field_customeraddress"
                  data-cy="customeraddress"
                  formControlName="customeraddress"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_deliveryaddress">Deliveryaddress</label>
                <input
                  type="text"
                  class="form-control"
                  name="deliveryaddress"
                  id="field_deliveryaddress"
                  data-cy="deliveryaddress"
                  formControlName="deliveryaddress"
                />
              </div>

              <div class="mb-3">
                <label class="form-label" for="field_subtotal">Subtotal</label>
                <input
                  type="number"
                  class="form-control"
                  name="subtotal"
                  id="field_subtotal"
                  data-cy="subtotal"
                  formControlName="subtotal"
                />
              </div>

              <div class="mb-3">
                <label class="form-label" for="field_totaltax">Totaltax</label>
                <input
                  type="number"
                  class="form-control"
                  name="totaltax"
                  id="field_totaltax"
                  data-cy="totaltax"
                  formControlName="totaltax"
                />
              </div>

              <div class="mb-3">
                <label class="form-label" for="field_totaldiscount">Totaldiscount</label>
                <input
                  type="number"
                  class="form-control"
                  name="totaldiscount"
                  id="field_totaldiscount"
                  data-cy="totaldiscount"
                  formControlName="totaldiscount"
                />
              </div>

              <div class="mb-3">
                <label class="form-label" for="field_nettotal">Nettotal</label>
                <input
                  type="number"
                  class="form-control"
                  name="nettotal"
                  id="field_nettotal"
                  data-cy="nettotal"
                  formControlName="nettotal"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_message">Message</label>
                <input type="text" class="form-control" name="message" id="field_message" data-cy="message" formControlName="message" />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_lmu">Lmu</label>
                <input type="number" class="form-control" name="lmu" id="field_lmu" data-cy="lmu" formControlName="lmu" />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_lmd">Lmd</label>
                <div class="d-flex">
                  <input
                    id="field_lmd"
                    data-cy="lmd"
                    type="datetime-local"
                    class="form-control"
                    name="lmd"
                    formControlName="lmd"
                    placeholder="YYYY-MM-DD HH:mm"
                  />
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label" for="field_paidamount">Paidamount</label>
                <input
                  type="number"
                  class="form-control"
                  name="paidamount"
                  id="field_paidamount"
                  data-cy="paidamount"
                  formControlName="paidamount"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_amountowing">Amountowing</label>
                <input
                  type="number"
                  class="form-control"
                  name="amountowing"
                  id="field_amountowing"
                  data-cy="amountowing"
                  formControlName="amountowing"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_isactive">Isactive</label>
                <input
                  type="checkbox"
                  class="form-check"
                  name="isactive"
                  id="field_isactive"
                  data-cy="isactive"
                  formControlName="isactive"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_locationid">Locationid</label>
                <input
                  type="number"
                  class="form-control"
                  name="locationid"
                  id="field_locationid"
                  data-cy="locationid"
                  formControlName="locationid"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_locationcode">Locationcode</label>
                <input
                  type="text"
                  class="form-control"
                  name="locationcode"
                  id="field_locationcode"
                  data-cy="locationcode"
                  formControlName="locationcode"
                />
              </div>

              <div class="mb-3" *ngIf="showCodeField">
                <label class="form-label" for="field_code">Code</label>
                <input type="text" class="form-control" name="code" id="field_code" data-cy="code" formControlName="code" />
              </div>

              <label class="form-label" for="field_referencecode">Referencecode</label>
              <input
                type="text"
                class="form-control"
                name="referencecode"
                id="field_referencecode"
                data-cy="referencecode"
                formControlName="referencecode"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_createdbyid">Createdbyid</label>
              <input
                type="number"
                class="form-control"
                name="createdbyid"
                id="field_createdbyid"
                data-cy="createdbyid"
                formControlName="createdbyid"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_createdbyname">Createdbyname</label>
              <input
                type="text"
                class="form-control"
                name="createdbyname"
                id="field_createdbyname"
                data-cy="createdbyname"
                formControlName="createdbyname"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_autocarecharges">Autocarecharges</label>
              <input
                type="number"
                class="form-control"
                name="autocarecharges"
                id="field_autocarecharges"
                data-cy="autocarecharges"
                formControlName="autocarecharges"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_autocarejobid">Autocarejobid</label>
              <input
                type="number"
                class="form-control"
                name="autocarejobid"
                id="field_autocarejobid"
                data-cy="autocarejobid"
                formControlName="autocarejobid"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_vehicleno">Vehicleno</label>
              <input
                type="text"
                class="form-control"
                name="vehicleno"
                id="field_vehicleno"
                data-cy="vehicleno"
                formControlName="vehicleno"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_nextmeter">Nextmeter</label>
              <input
                type="text"
                class="form-control"
                name="nextmeter"
                id="field_nextmeter"
                data-cy="nextmeter"
                formControlName="nextmeter"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_currentmeter">Currentmeter</label>
              <input
                type="text"
                class="form-control"
                name="currentmeter"
                id="field_currentmeter"
                data-cy="currentmeter"
                formControlName="currentmeter"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_remarks">Remarks</label>
              <input type="text" class="form-control" name="remarks" id="field_remarks" data-cy="remarks" formControlName="remarks" />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_hasdummybill">Hasdummybill</label>
              <input
                type="checkbox"
                class="form-check"
                name="hasdummybill"
                id="field_hasdummybill"
                data-cy="hasdummybill"
                formControlName="hasdummybill"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_dummybillid">Dummybillid</label>
              <input
                type="number"
                class="form-control"
                name="dummybillid"
                id="field_dummybillid"
                data-cy="dummybillid"
                formControlName="dummybillid"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_dummybillamount">Dummybillamount</label>
              <input
                type="number"
                class="form-control"
                name="dummybillamount"
                id="field_dummybillamount"
                data-cy="dummybillamount"
                formControlName="dummybillamount"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_dummycommision">Dummycommision</label>
              <input
                type="number"
                class="form-control"
                name="dummycommision"
                id="field_dummycommision"
                data-cy="dummycommision"
                formControlName="dummycommision"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_isserviceinvoice">Isserviceinvoice</label>
              <input
                type="checkbox"
                class="form-check"
                name="isserviceinvoice"
                id="field_isserviceinvoice"
                data-cy="isserviceinvoice"
                formControlName="isserviceinvoice"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_nbtamount">Nbtamount</label>
              <input
                type="number"
                class="form-control"
                name="nbtamount"
                id="field_nbtamount"
                data-cy="nbtamount"
                formControlName="nbtamount"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_vatamount">Vatamount</label>
              <input
                type="number"
                class="form-control"
                name="vatamount"
                id="field_vatamount"
                data-cy="vatamount"
                formControlName="vatamount"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_autocarecompanyid">Autocarecompanyid</label>
              <input
                type="number"
                class="form-control"
                name="autocarecompanyid"
                id="field_autocarecompanyid"
                data-cy="autocarecompanyid"
                formControlName="autocarecompanyid"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_iscompanyinvoice">Iscompanyinvoice</label>
              <input
                type="checkbox"
                class="form-check"
                name="iscompanyinvoice"
                id="field_iscompanyinvoice"
                data-cy="iscompanyinvoice"
                formControlName="iscompanyinvoice"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_invcanceldate">Invcanceldate</label>
              <div class="d-flex">
                <input
                  id="field_invcanceldate"
                  data-cy="invcanceldate"
                  type="datetime-local"
                  class="form-control"
                  name="invcanceldate"
                  formControlName="invcanceldate"
                  placeholder="YYYY-MM-DD HH:mm"
                />
              </div>
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_invcancelby">Invcancelby</label>
              <input
                type="number"
                class="form-control"
                name="invcancelby"
                id="field_invcancelby"
                data-cy="invcancelby"
                formControlName="invcancelby"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_isvatinvoice">Isvatinvoice</label>
              <input
                type="checkbox"
                class="form-check"
                name="isvatinvoice"
                id="field_isvatinvoice"
                data-cy="isvatinvoice"
                formControlName="isvatinvoice"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_paymenttype">Paymenttype</label>
              <input
                type="text"
                class="form-control"
                name="paymenttype"
                id="field_paymenttype"
                data-cy="paymenttype"
                formControlName="paymenttype"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_pendingamount">Pendingamount</label>
              <input
                type="number"
                class="form-control"
                name="pendingamount"
                id="field_pendingamount"
                data-cy="pendingamount"
                formControlName="pendingamount"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_advancepayment">Advancepayment</label>
              <input
                type="number"
                class="form-control"
                name="advancepayment"
                id="field_advancepayment"
                data-cy="advancepayment"
                formControlName="advancepayment"
              />
            </div>

            <div class="mb-3" *ngIf="showCodeField">
              <label class="form-label" for="field_discountcode">Discountcode</label>
              <input
                type="text"
                class="form-control"
                name="discountcode"
                id="field_discountcode"
                data-cy="discountcode"
                formControlName="discountcode"
              />
            </div>
          </div>

          <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px">
            <button
              type="button"
              id="cancel-save"
              data-cy="entityCreateCancelButton"
              class="btn btn-secondary"
              (click)="previousState()"
              style="padding: 8px 16px; background-color: #f44336; border: none; color: white; cursor: pointer"
            >
              <fa-icon icon="ban"></fa-icon>&nbsp;<span>Cancel</span>
            </button>

            <button
              type="submit"
              id="save-entity"
              data-cy="entityCreateSaveButton"
              [disabled]="editForm.invalid || isSaving"
              class="btn btn-primary"
              style="padding: 8px 16px; background-color: #4caf50; border: none; color: white; cursor: pointer"
            >
              <fa-icon icon="save"></fa-icon>&nbsp;<span>Save</span>
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
